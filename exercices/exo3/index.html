<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>JSX</title>
  <!-- Library -->
  <script src="https://unpkg.com/react@16/umd/react.development.js"></script>

  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

  <!-- babel => compilation du JSX -->
  <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  <style>
    .heading {
      color: rgb(18, 15, 197);
    }
  </style>
</head>

<body>
  <div id="root"></div>
  <script type="text/babel">
    // Création de composant en créant des classes
    class App extends React.Component {
      render() {
        const personne = {
          name: "Charly",
          age: 66,
          job: {
            name: "Styliste",
            since: "29 Avril 2020",
          },
        };

        const panierDeCourses = [
          {
            name: "Concombre",
            type: "Legume",
          },
          {
            name: "Courgette",
            type: "Legume",
          },
          {
            name: "Endive",
            type: "Beurk",
          },
          {
            name: "Steak",
            type: "Frais",
          },
          {
            name: "Sanglier",
            type: null,
          },
        ];

        const series = this.catalogueSeries();


        // correction
        const listCourse = panierDeCourses.map((panier, index) => (
          //<li key = {index} > {panier.name + " - " + panier.type }  </li>
          <li key={index} > {panier.name} - {panier.type || "non renseigné"}   </li>
        ))


        // autre méthode
        const items = [];
        for (var i = 0; i < panierDeCourses.length; i++) {
          const item = panierDeCourses[i];
          items.push(
            <li key={i} > {item.name} - {item.type || "non renseigné"} </li>
          );
        }


// _____________________





        return (
          <div className="heading">
            <h1>{this.props.message}</h1>
            <p>{this.props.subtitle}</p>
            <div>
              <p>
                Consulter la méthode cancelButton. En vous basant sur le même
                modèle, remplissez la méthode validateButton
              </p>

              {this.cancelButton()}
              <p>
                Appeler la fonction validateButton pour générer le bouton en
                dessous de ce paragraphe
              </p>

              {this.validateButton()}

              <p>Afficher toutes les propriétés de la variable personne </p>
              <li> {personne.name} </li>
              <li> {personne.age} </li>
              <li> {personne.job.name} </li>
              <li> {personne.job.since} </li>

              <p>Afficher toutes les propriétés du panier de courses</p>

              {listCourse}


              {panierDeCourses.map((panier, index) => (
                <li key={index} > {panier.name} - {panier.type || "non renseigné"}   </li>
              ))}



              {series.map((catalogueSeries, index) => 
                <p key = {index}> {catalogueSeries.name} , {catalogueSeries.episodes}, {catalogueSeries.note} </p>
                )}



              <p>Afficher toutes les propriétés du catalogue de séries</p>
            </div>
          </div>
        );
      }

      /**
       * Cette méthode renvoie un bouton Annuler au format JSX
       */
      cancelButton() {
        return <button>Annuler</button>;
      }

      /**
       * Cette méthode renvoie un bouton Valider au format JSX
       */
      validateButton() {
        return <button>valider</button>;
      }

      /*
       * Cette méthode renvoie une liste des séries à regarder pendant le confinement
       * */
      catalogueSeries() {
        return [
          {
            name: "One Sheep",
            episodes: 999999,
            note: 5,
          },
          {
            name: "Vikings",
            episodes: 5,
            note: 19,
          },
          {
            name: "Spartakis, au bon lait de brebis",
            episodes: 15,
            note: 12,
          },
        ];
      }
    }

    // Rendu dans le DOM
    ReactDOM.render(
      <App message="JSX" subtitle="Exo 3 " />,
      document.getElementById("root")
    );
  </script>
</body>

</html>